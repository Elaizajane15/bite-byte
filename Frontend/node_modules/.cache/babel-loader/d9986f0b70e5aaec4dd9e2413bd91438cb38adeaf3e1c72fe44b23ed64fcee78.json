{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elaiza Jane\\\\OneDrive\\\\Desktop\\\\recipeshare\\\\bite-byte\\\\Frontend\\\\src\\\\components\\\\HomePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport RecipeDetail from './RecipeDetail';\nimport UserProfile from './UserProfile';\nimport AddRecipeModal from './AddRecipeModal';\nimport { mockRecipes, categories } from './recipeData';\nimport { useToast } from './components/ToastContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RecipesPage({\n  currentUser,\n  onLogout,\n  setCurrentPage\n}) {\n  _s();\n  const [recipes, setRecipes] = useState(mockRecipes);\n  const [myRecipes, setMyRecipes] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [currentView, setCurrentView] = useState(() => {\n    try {\n      return localStorage.getItem('currentView') || 'home';\n    } catch (_) {\n      return 'home';\n    }\n  });\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\n  const [showAddRecipeModal, setShowAddRecipeModal] = useState(false);\n  const [userRating, setUserRating] = useState(0);\n  const {\n    showToast\n  } = useToast();\n  const handleUpdateProfile = async ({\n    name,\n    email,\n    bio,\n    currentPassword,\n    newPassword\n  }) => {\n    if (!currentUser || !currentUser.id) {\n      showToast('Please log in first.', 'error');\n      return;\n    }\n    const parts = (name || '').trim().split(/\\s+/);\n    const firstname = parts[0] || '';\n    const lastname = parts.slice(1).join(' ') || '';\n    const password = newPassword && newPassword.trim() || currentPassword && currentPassword.trim() || '';\n    if (!email || !password) {\n      showToast('Email and current password are required.', 'error');\n      return;\n    }\n    try {\n      const res = await fetch(`/api/users/${currentUser.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          firstname,\n          lastname,\n          email,\n          password,\n          bio\n        })\n      });\n      if (!res.ok) {\n        showToast('Failed to update profile.', 'error');\n        return;\n      }\n      await res.json();\n      showToast('Profile updated.', 'success');\n    } catch (e) {\n      showToast('Network error.', 'error');\n    }\n  };\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await fetch('/api/recipes');\n        if (!res.ok) return;\n        const data = await res.json();\n        const mapped = data.map(r => ({\n          id: r.id,\n          title: r.title || '',\n          description: r.description || '',\n          ingredients: typeof r.ingredients === 'string' ? r.ingredients.split(';').map(s => s.trim()).filter(Boolean) : [],\n          instructions: typeof r.instruction === 'string' ? r.instruction.split(';').map(s => s.trim()).filter(Boolean) : [],\n          cookTime: r.cookTime || 0,\n          category: r.category || 'General',\n          difficulty: 'Medium',\n          image: r.coverPhotoUrl || '',\n          author: r.author && (r.author.firstname ? `${r.author.firstname}${r.author.lastname ? ' ' + r.author.lastname : ''}` : r.author.email),\n          authorId: r.author && r.author.id,\n          createdAt: r.createdAt || '',\n          likes: 0,\n          rating: 0,\n          totalRatings: 0,\n          tips: []\n        }));\n        setRecipes(mapped);\n        try {\n          const savedId = localStorage.getItem('selectedRecipeId');\n          const savedView = localStorage.getItem('currentView');\n          if (savedView) setCurrentView(savedView);\n          if (savedId) {\n            const found = mapped.find(r => String(r.id) === String(savedId));\n            if (found) {\n              setSelectedRecipe(found);\n              setCurrentView('recipe-detail');\n            }\n          }\n        } catch (_) {}\n      } catch (e) {\n        /* no-op */\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    try {\n      localStorage.setItem('currentView', currentView);\n    } catch (_) {}\n  }, [currentView]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('selectedRecipeId', selectedRecipe ? String(selectedRecipe.id) : '');\n    } catch (_) {}\n  }, [selectedRecipe]);\n  const getFilteredRecipes = () => {\n    let recipesToFilter = recipes;\n    if (currentView === 'my-recipes') {\n      recipesToFilter = myRecipes;\n    } else if (currentView === 'favorites') {\n      recipesToFilter = recipes.filter(r => favorites.includes(r.id));\n    }\n    return recipesToFilter.filter(recipe => {\n      const title = (recipe.title || '').toLowerCase();\n      const desc = (recipe.description || '').toLowerCase();\n      const matchesSearch = title.includes(searchTerm.toLowerCase()) || desc.includes(searchTerm.toLowerCase());\n      const matchesCategory = selectedCategory === 'All' || recipe.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    });\n  };\n  const filteredRecipes = getFilteredRecipes();\n  const toggleFavorite = recipeId => {\n    if (!currentUser || !currentUser.id) {\n      showToast('Please login first to save recipes.', 'error');\n      setCurrentPage('login');\n      return;\n    }\n    if (favorites.includes(recipeId)) {\n      setFavorites(favorites.filter(id => id !== recipeId));\n    } else {\n      setFavorites([...favorites, recipeId]);\n    }\n  };\n  const handleLike = recipeId => {\n    setRecipes(recipes.map(recipe => recipe.id === recipeId ? {\n      ...recipe,\n      likes: recipe.likes + 1\n    } : recipe));\n  };\n  const handleAddRecipe = async newRecipe => {\n    if (!currentUser || !currentUser.id) {\n      showToast('Please log in to add recipes.', 'error');\n      return;\n    }\n    try {\n      const payload = {\n        title: newRecipe.title,\n        description: newRecipe.description,\n        ingredients: (newRecipe.ingredients || []).join('; '),\n        instruction: (newRecipe.instructions || []).join('; '),\n        cookTime: Number(newRecipe.cookTime || 0),\n        category: newRecipe.category || 'General',\n        coverPhotoUrl: newRecipe.image || '',\n        author: {\n          id: Number(currentUser.id)\n        }\n      };\n      const res = await fetch('/api/recipes', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        if (res.status === 400) {\n          showToast('Invalid recipe data or author. Please log in again.', 'error');\n        } else {\n          showToast('Failed to add recipe.', 'error');\n        }\n        return;\n      }\n      const r = await res.json();\n      const mapped = {\n        id: r.id,\n        title: r.title,\n        description: r.description || '',\n        ingredients: typeof r.ingredients === 'string' ? r.ingredients.split(';').map(s => s.trim()).filter(Boolean) : [],\n        instructions: typeof r.instruction === 'string' ? r.instruction.split(';').map(s => s.trim()).filter(Boolean) : [],\n        cookTime: r.cookTime || 0,\n        category: r.category || 'General',\n        difficulty: 'Medium',\n        image: r.coverPhotoUrl || '',\n        author: currentUser.name,\n        authorId: currentUser.id,\n        createdAt: new Date().toLocaleDateString(),\n        likes: 0,\n        rating: 0,\n        totalRatings: 0,\n        tips: []\n      };\n      setMyRecipes([...myRecipes, mapped]);\n      setRecipes([...recipes, mapped]);\n      setShowAddRecipeModal(false);\n      showToast('Recipe added.', 'success');\n    } catch (e) {\n      showToast('Network error.', 'error');\n    }\n  };\n  const handleDeleteRecipe = recipeId => {\n    setRecipes(recipes.filter(r => r.id !== recipeId));\n    setMyRecipes(myRecipes.filter(r => r.id !== recipeId));\n    setFavorites(favorites.filter(id => id !== recipeId));\n    setCurrentView('home');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recipes-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          onClick: () => setCurrentPage('home'),\n          style: {\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-icon\",\n            children: \"\\uD83C\\uDF73\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-title\",\n              children: \"RecipeShare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"logo-subtitle\",\n              children: \"Share & Discover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-btn ${currentView === 'home' ? 'active' : ''}`,\n            onClick: () => setCurrentView('home'),\n            children: \"\\uD83C\\uDFE0 Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-btn ${currentView === 'my-recipes' ? 'active' : ''}`,\n            onClick: () => setCurrentView('my-recipes'),\n            children: \"\\uD83D\\uDCD6 My Recipes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `nav-btn ${currentView === 'favorites' ? 'active' : ''}`,\n            onClick: () => setCurrentView('favorites'),\n            children: \"\\u2764\\uFE0F Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-recipe-btn\",\n            onClick: () => setShowAddRecipeModal(true),\n            children: \"\\u2795 Add Recipe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"user-info\",\n            onClick: () => setCurrentView('profile'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-icon\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), currentUser.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logout-button\",\n            onClick: onLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes-container\",\n      children: currentView === 'recipe-detail' && selectedRecipe ? /*#__PURE__*/_jsxDEV(RecipeDetail, {\n        recipe: selectedRecipe,\n        onBack: () => setCurrentView('home'),\n        isFavorited: favorites.includes(selectedRecipe.id),\n        onToggleFavorite: toggleFavorite,\n        onLike: handleLike,\n        userRating: userRating,\n        onRate: async star => {\n          setUserRating(star);\n          if (currentUser && currentUser.id) {\n            try {\n              const payload = {\n                recipe: {\n                  id: selectedRecipe.id\n                },\n                user: {\n                  id: currentUser.id\n                },\n                rating: star\n              };\n              await fetch('/api/ratings', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(payload)\n              });\n              showToast('Thanks for rating.', 'success');\n            } catch (e) {\n              /* no-op */\n            }\n          }\n        },\n        onDelete: handleDeleteRecipe,\n        currentUser: currentUser,\n        onRecipeUpdated: updated => {\n          setSelectedRecipe(updated);\n          setRecipes(recipes.map(r => r.id === updated.id ? updated : r));\n          setMyRecipes(myRecipes.map(r => r.id === updated.id ? updated : r));\n        },\n        canEdit: currentUser && selectedRecipe && String(selectedRecipe.authorId) === String(currentUser.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this) : currentView === 'profile' ? /*#__PURE__*/_jsxDEV(UserProfile, {\n        currentUser: currentUser,\n        myRecipes: myRecipes,\n        favorites: favorites,\n        onBack: () => setCurrentView('home'),\n        onUpdateProfile: handleUpdateProfile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipes-hero\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"recipes-welcome\",\n            children: currentUser && currentUser.name && currentUser.name !== 'Guest' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Welcome back, \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"gradient-text\",\n                children: currentUser.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 108\n              }, this)]\n            }, void 0, true) : 'Welcome back!'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"recipes-subtitle\",\n            children: \"What delicious recipe will you discover today?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"search-icon\",\n              children: \"\\uD83D\\uDD0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search recipes, ingredients, cuisines...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-pills\",\n            children: categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedCategory(category),\n              className: `category-pill ${selectedCategory === category ? 'active' : ''}`,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipes-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipes-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"recipes-title\",\n              children: [currentView === 'home' && 'All Recipes', currentView === 'my-recipes' && 'My Recipes', currentView === 'favorites' && 'Favorite Recipes']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipes-count\",\n              children: [filteredRecipes.length, \" recipe\", filteredRecipes.length !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), filteredRecipes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recipes-grid\",\n            children: filteredRecipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-card\",\n              onClick: () => {\n                setSelectedRecipe(recipe);\n                setCurrentView('recipe-detail');\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-image-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: recipe.image,\n                  alt: recipe.title,\n                  className: \"recipe-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `favorite-btn ${favorites.includes(recipe.id) ? 'favorited' : ''}`,\n                  onClick: e => {\n                    e.stopPropagation();\n                    toggleFavorite(recipe.id);\n                  },\n                  children: favorites.includes(recipe.id) ? '‚ù§Ô∏è' : 'ü§ç'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recipe-difficulty-badge\",\n                  children: recipe.difficulty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recipe-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recipe-category-badge\",\n                  children: recipe.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"recipe-title\",\n                  children: recipe.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"recipe-description\",\n                  children: recipe.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recipe-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-meta-item\",\n                    children: [\"\\u23F1\\uFE0F \", recipe.cookTime]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-meta-item\",\n                    children: [\"\\u2B50 \", recipe.rating.toFixed(1)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-meta-item\",\n                    children: [\"(\", recipe.totalRatings, \" ratings)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recipe-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"recipe-author\",\n                    children: [\"By \", recipe.author]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"recipe-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"recipe-likes\",\n                      children: [\"\\uD83D\\uDC4D \", recipe.likes]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"save-btn\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        toggleFavorite(recipe.id);\n                      },\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 23\n              }, this)]\n            }, recipe.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-recipes\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-recipes-icon\",\n              children: \"\\uD83D\\uDC68\\u200D\\uD83C\\uDF73\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No recipes found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: currentView === 'my-recipes' ? \"You haven't added any recipes yet. Click 'Add Recipe' to share your first culinary creation!\" : currentView === 'favorites' ? \"You haven't favorited any recipes yet. Start exploring and save your favorites!\" : \"Try adjusting your search or filter criteria to discover more delicious recipes.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), showAddRecipeModal && /*#__PURE__*/_jsxDEV(AddRecipeModal, {\n      onClose: () => setShowAddRecipeModal(false),\n      onSubmit: handleAddRecipe\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n}\n_s(RecipesPage, \"zajQ19rVtaENLFrm0Dbuz1N6ki0=\", false, function () {\n  return [useToast];\n});\n_c = RecipesPage;\nexport default RecipesPage;\nvar _c;\n$RefreshReg$(_c, \"RecipesPage\");","map":{"version":3,"names":["React","useState","useEffect","RecipeDetail","UserProfile","AddRecipeModal","mockRecipes","categories","useToast","jsxDEV","_jsxDEV","Fragment","_Fragment","RecipesPage","currentUser","onLogout","setCurrentPage","_s","recipes","setRecipes","myRecipes","setMyRecipes","favorites","setFavorites","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","currentView","setCurrentView","localStorage","getItem","_","selectedRecipe","setSelectedRecipe","showAddRecipeModal","setShowAddRecipeModal","userRating","setUserRating","showToast","handleUpdateProfile","name","email","bio","currentPassword","newPassword","id","parts","trim","split","firstname","lastname","slice","join","password","res","fetch","method","headers","body","JSON","stringify","ok","json","e","data","mapped","map","r","title","description","ingredients","s","filter","Boolean","instructions","instruction","cookTime","category","difficulty","image","coverPhotoUrl","author","authorId","createdAt","likes","rating","totalRatings","tips","savedId","savedView","found","find","String","window","scrollTo","setItem","getFilteredRecipes","recipesToFilter","includes","recipe","toLowerCase","desc","matchesSearch","matchesCategory","filteredRecipes","toggleFavorite","recipeId","handleLike","handleAddRecipe","newRecipe","payload","Number","status","Date","toLocaleDateString","handleDeleteRecipe","className","children","onClick","style","cursor","fileName","_jsxFileName","lineNumber","columnNumber","onBack","isFavorited","onToggleFavorite","onLike","onRate","star","user","onDelete","onRecipeUpdated","updated","canEdit","onUpdateProfile","type","placeholder","value","onChange","target","length","src","alt","stopPropagation","toFixed","onClose","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/Elaiza Jane/OneDrive/Desktop/recipeshare/bite-byte/Frontend/src/components/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport RecipeDetail from './RecipeDetail';\r\nimport UserProfile from './UserProfile';\r\nimport AddRecipeModal from './AddRecipeModal';\r\nimport { mockRecipes, categories } from './recipeData';\r\nimport { useToast } from './components/ToastContext';\r\n\r\nfunction RecipesPage({ currentUser, onLogout, setCurrentPage }) {\r\n  const [recipes, setRecipes] = useState(mockRecipes);\r\n  const [myRecipes, setMyRecipes] = useState([]);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n  const [currentView, setCurrentView] = useState(() => {\r\n    try { return localStorage.getItem('currentView') || 'home'; } catch (_) { return 'home'; }\r\n  });\r\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\r\n  const [showAddRecipeModal, setShowAddRecipeModal] = useState(false);\r\n  const [userRating, setUserRating] = useState(0);\r\n  const { showToast } = useToast();\r\n\r\n  const handleUpdateProfile = async ({ name, email, bio, currentPassword, newPassword }) => {\r\n    if (!currentUser || !currentUser.id) {\r\n      showToast('Please log in first.', 'error');\r\n      return;\r\n    }\r\n    const parts = (name || '').trim().split(/\\s+/);\r\n    const firstname = parts[0] || '';\r\n    const lastname = parts.slice(1).join(' ') || '';\r\n    const password = (newPassword && newPassword.trim()) || (currentPassword && currentPassword.trim()) || '';\r\n    if (!email || !password) {\r\n      showToast('Email and current password are required.', 'error');\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(`/api/users/${currentUser.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ firstname, lastname, email, password, bio })\r\n      });\r\n      if (!res.ok) {\r\n        showToast('Failed to update profile.', 'error');\r\n        return;\r\n      }\r\n      await res.json();\r\n      showToast('Profile updated.', 'success');\r\n    } catch (e) {\r\n      showToast('Network error.', 'error');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch('/api/recipes');\r\n        if (!res.ok) return;\r\n        const data = await res.json();\r\n        const mapped = data.map(r => ({\r\n          id: r.id,\r\n          title: r.title || '',\r\n          description: r.description || '',\r\n          ingredients: typeof r.ingredients === 'string' ? r.ingredients.split(';').map(s => s.trim()).filter(Boolean) : [],\r\n          instructions: typeof r.instruction === 'string' ? r.instruction.split(';').map(s => s.trim()).filter(Boolean) : [],\r\n          cookTime: r.cookTime || 0,\r\n          category: r.category || 'General',\r\n          difficulty: 'Medium',\r\n          image: r.coverPhotoUrl || '',\r\n          author: r.author && (r.author.firstname ? `${r.author.firstname}${r.author.lastname ? ' ' + r.author.lastname : ''}` : r.author.email),\r\n          authorId: r.author && r.author.id,\r\n          createdAt: r.createdAt || '',\r\n          likes: 0,\r\n          rating: 0,\r\n          totalRatings: 0,\r\n          tips: []\r\n        }));\r\n        setRecipes(mapped);\r\n        try {\r\n          const savedId = localStorage.getItem('selectedRecipeId');\r\n          const savedView = localStorage.getItem('currentView');\r\n          if (savedView) setCurrentView(savedView);\r\n          if (savedId) {\r\n            const found = mapped.find(r => String(r.id) === String(savedId));\r\n            if (found) { setSelectedRecipe(found); setCurrentView('recipe-detail'); }\r\n          }\r\n        } catch (_) { }\r\n      } catch (e) {\r\n        /* no-op */\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    try { localStorage.setItem('currentView', currentView); } catch (_) { }\r\n  }, [currentView]);\r\n\r\n  useEffect(() => {\r\n    try { localStorage.setItem('selectedRecipeId', selectedRecipe ? String(selectedRecipe.id) : ''); } catch (_) { }\r\n  }, [selectedRecipe]);\r\n\r\n  const getFilteredRecipes = () => {\r\n    let recipesToFilter = recipes;\r\n\r\n    if (currentView === 'my-recipes') {\r\n      recipesToFilter = myRecipes;\r\n    } else if (currentView === 'favorites') {\r\n      recipesToFilter = recipes.filter(r => favorites.includes(r.id));\r\n    }\r\n\r\n    return recipesToFilter.filter(recipe => {\r\n      const title = (recipe.title || '').toLowerCase();\r\n      const desc = (recipe.description || '').toLowerCase();\r\n      const matchesSearch = title.includes(searchTerm.toLowerCase()) || desc.includes(searchTerm.toLowerCase());\r\n      const matchesCategory = selectedCategory === 'All' || recipe.category === selectedCategory;\r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  };\r\n\r\n  const filteredRecipes = getFilteredRecipes();\r\n\r\n  const toggleFavorite = (recipeId) => {\r\n    if (!currentUser || !currentUser.id) {\r\n      showToast('Please login first to save recipes.', 'error');\r\n      setCurrentPage('login');\r\n      return;\r\n    }\r\n    if (favorites.includes(recipeId)) {\r\n      setFavorites(favorites.filter(id => id !== recipeId));\r\n    } else {\r\n      setFavorites([...favorites, recipeId]);\r\n    }\r\n  };\r\n\r\n  const handleLike = (recipeId) => {\r\n    setRecipes(recipes.map(recipe =>\r\n      recipe.id === recipeId\r\n        ? { ...recipe, likes: recipe.likes + 1 }\r\n        : recipe\r\n    ));\r\n  };\r\n\r\n  const handleAddRecipe = async (newRecipe) => {\r\n    if (!currentUser || !currentUser.id) {\r\n      showToast('Please log in to add recipes.', 'error');\r\n      return;\r\n    }\r\n    try {\r\n      const payload = {\r\n        title: newRecipe.title,\r\n        description: newRecipe.description,\r\n        ingredients: (newRecipe.ingredients || []).join('; '),\r\n        instruction: (newRecipe.instructions || []).join('; '),\r\n        cookTime: Number(newRecipe.cookTime || 0),\r\n        category: newRecipe.category || 'General',\r\n        coverPhotoUrl: newRecipe.image || '',\r\n        author: { id: Number(currentUser.id) }\r\n      };\r\n      const res = await fetch('/api/recipes', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      if (!res.ok) {\r\n        if (res.status === 400) {\r\n          showToast('Invalid recipe data or author. Please log in again.', 'error');\r\n        } else {\r\n          showToast('Failed to add recipe.', 'error');\r\n        }\r\n        return;\r\n      }\r\n      const r = await res.json();\r\n      const mapped = {\r\n        id: r.id,\r\n        title: r.title,\r\n        description: r.description || '',\r\n        ingredients: typeof r.ingredients === 'string' ? r.ingredients.split(';').map(s => s.trim()).filter(Boolean) : [],\r\n        instructions: typeof r.instruction === 'string' ? r.instruction.split(';').map(s => s.trim()).filter(Boolean) : [],\r\n        cookTime: r.cookTime || 0,\r\n        category: r.category || 'General',\r\n        difficulty: 'Medium',\r\n        image: r.coverPhotoUrl || '',\r\n        author: currentUser.name,\r\n        authorId: currentUser.id,\r\n        createdAt: new Date().toLocaleDateString(),\r\n        likes: 0,\r\n        rating: 0,\r\n        totalRatings: 0,\r\n        tips: []\r\n      };\r\n      setMyRecipes([...myRecipes, mapped]);\r\n      setRecipes([...recipes, mapped]);\r\n      setShowAddRecipeModal(false);\r\n      showToast('Recipe added.', 'success');\r\n    } catch (e) {\r\n      showToast('Network error.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteRecipe = (recipeId) => {\r\n    setRecipes(recipes.filter(r => r.id !== recipeId));\r\n    setMyRecipes(myRecipes.filter(r => r.id !== recipeId));\r\n    setFavorites(favorites.filter(id => id !== recipeId));\r\n    setCurrentView('home');\r\n  };\r\n\r\n  return (\r\n    <div className=\"recipes-page\">\r\n      {/* Header */}\r\n      <header className=\"header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"logo\" onClick={() => setCurrentPage('home')} style={{ cursor: 'pointer' }}>\r\n            <div className=\"logo-icon\">üç≥</div>\r\n            <div>\r\n              <div className=\"logo-title\">RecipeShare</div>\r\n              <div className=\"logo-subtitle\">Share & Discover</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"header-buttons\">\r\n            <button\r\n              className={`nav-btn ${currentView === 'home' ? 'active' : ''}`}\r\n              onClick={() => setCurrentView('home')}\r\n            >\r\n              üè† Home\r\n            </button>\r\n            <button\r\n              className={`nav-btn ${currentView === 'my-recipes' ? 'active' : ''}`}\r\n              onClick={() => setCurrentView('my-recipes')}\r\n            >\r\n              üìñ My Recipes\r\n            </button>\r\n            <button\r\n              className={`nav-btn ${currentView === 'favorites' ? 'active' : ''}`}\r\n              onClick={() => setCurrentView('favorites')}\r\n            >\r\n              ‚ù§Ô∏è Favorites\r\n            </button>\r\n            <button className=\"add-recipe-btn\" onClick={() => setShowAddRecipeModal(true)}>\r\n              ‚ûï Add Recipe\r\n            </button>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button className=\"user-info\" onClick={() => setCurrentView('profile')}>\r\n              <span className=\"user-icon\">üë§</span>\r\n              {currentUser.name}\r\n            </button>\r\n            <button className=\"logout-button\" onClick={onLogout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"recipes-container\">\r\n        {currentView === 'recipe-detail' && selectedRecipe ? (\r\n          <RecipeDetail\r\n            recipe={selectedRecipe}\r\n            onBack={() => setCurrentView('home')}\r\n            isFavorited={favorites.includes(selectedRecipe.id)}\r\n            onToggleFavorite={toggleFavorite}\r\n            onLike={handleLike}\r\n            userRating={userRating}\r\n            onRate={async (star) => {\r\n              setUserRating(star);\r\n              if (currentUser && currentUser.id) {\r\n                try {\r\n                  const payload = { recipe: { id: selectedRecipe.id }, user: { id: currentUser.id }, rating: star };\r\n                  await fetch('/api/ratings', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n                  showToast('Thanks for rating.', 'success');\r\n                } catch (e) {\r\n                  /* no-op */\r\n                }\r\n              }\r\n            }}\r\n            onDelete={handleDeleteRecipe}\r\n            currentUser={currentUser}\r\n            onRecipeUpdated={(updated) => {\r\n              setSelectedRecipe(updated);\r\n              setRecipes(recipes.map(r => r.id === updated.id ? updated : r));\r\n              setMyRecipes(myRecipes.map(r => r.id === updated.id ? updated : r));\r\n            }}\r\n            canEdit={currentUser && selectedRecipe && String(selectedRecipe.authorId) === String(currentUser.id)}\r\n          />\r\n        ) : currentView === 'profile' ? (\r\n          <UserProfile\r\n            currentUser={currentUser}\r\n            myRecipes={myRecipes}\r\n            favorites={favorites}\r\n            onBack={() => setCurrentView('home')}\r\n            onUpdateProfile={handleUpdateProfile}\r\n          />\r\n        ) : (\r\n          <>\r\n            {/* Hero Section */}\r\n            <div className=\"recipes-hero\">\r\n              <h2 className=\"recipes-welcome\">\r\n                {currentUser && currentUser.name && currentUser.name !== 'Guest'\r\n                  ? (<><span>Welcome back, </span><span className=\"gradient-text\">{currentUser.name}</span><span>!</span></>)\r\n                  : 'Welcome back!'}\r\n              </h2>\r\n              <p className=\"recipes-subtitle\">What delicious recipe will you discover today?</p>\r\n            </div>\r\n\r\n            {/* Search Section */}\r\n            <div className=\"search-section\">\r\n              <div className=\"search-bar\">\r\n                <span className=\"search-icon\">üîç</span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search recipes, ingredients, cuisines...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"search-input\"\r\n                />\r\n              </div>\r\n\r\n              {/* Category Pills */}\r\n              <div className=\"category-pills\">\r\n                {categories.map(category => (\r\n                  <button\r\n                    key={category}\r\n                    onClick={() => setSelectedCategory(category)}\r\n                    className={`category-pill ${selectedCategory === category ? 'active' : ''}`}\r\n                  >\r\n                    {category}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recipes Section */}\r\n            <div className=\"recipes-section\">\r\n              <div className=\"recipes-header\">\r\n                <h3 className=\"recipes-title\">\r\n                  {currentView === 'home' && 'All Recipes'}\r\n                  {currentView === 'my-recipes' && 'My Recipes'}\r\n                  {currentView === 'favorites' && 'Favorite Recipes'}\r\n                </h3>\r\n                <div className=\"recipes-count\">\r\n                  {filteredRecipes.length} recipe{filteredRecipes.length !== 1 ? 's' : ''}\r\n                </div>\r\n              </div>\r\n\r\n              {filteredRecipes.length > 0 ? (\r\n                <div className=\"recipes-grid\">\r\n                  {filteredRecipes.map(recipe => (\r\n                    <div key={recipe.id} className=\"recipe-card\" onClick={() => {\r\n                      setSelectedRecipe(recipe);\r\n                      setCurrentView('recipe-detail');\r\n                    }}>\r\n                      <div className=\"recipe-image-container\">\r\n                        <img src={recipe.image} alt={recipe.title} className=\"recipe-image\" />\r\n                        <button\r\n                          className={`favorite-btn ${favorites.includes(recipe.id) ? 'favorited' : ''}`}\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleFavorite(recipe.id);\r\n                          }}\r\n                        >\r\n                          {favorites.includes(recipe.id) ? '‚ù§Ô∏è' : 'ü§ç'}\r\n                        </button>\r\n                        <div className=\"recipe-difficulty-badge\">{recipe.difficulty}</div>\r\n                      </div>\r\n                      <div className=\"recipe-content\">\r\n                        <div className=\"recipe-category-badge\">{recipe.category}</div>\r\n                        <h4 className=\"recipe-title\">{recipe.title}</h4>\r\n                        <p className=\"recipe-description\">{recipe.description}</p>\r\n                        <div className=\"recipe-meta\">\r\n                          <span className=\"recipe-meta-item\">‚è±Ô∏è {recipe.cookTime}</span>\r\n                          <span className=\"recipe-meta-item\">‚≠ê {recipe.rating.toFixed(1)}</span>\r\n                          <span className=\"recipe-meta-item\">({recipe.totalRatings} ratings)</span>\r\n                        </div>\r\n                        <div className=\"recipe-footer\">\r\n                          <span className=\"recipe-author\">By {recipe.author}</span>\r\n                          <div className=\"recipe-actions\">\r\n                            <span className=\"recipe-likes\">üëç {recipe.likes}</span>\r\n                            <button className=\"save-btn\" onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              toggleFavorite(recipe.id);\r\n                            }}>\r\n                              Save\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"no-recipes\">\r\n                  <div className=\"no-recipes-icon\">üë®‚Äçüç≥</div>\r\n                  <h3>No recipes found</h3>\r\n                  <p>\r\n                    {currentView === 'my-recipes'\r\n                      ? \"You haven't added any recipes yet. Click 'Add Recipe' to share your first culinary creation!\"\r\n                      : currentView === 'favorites'\r\n                        ? \"You haven't favorited any recipes yet. Start exploring and save your favorites!\"\r\n                        : \"Try adjusting your search or filter criteria to discover more delicious recipes.\"}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Recipe Modal */}\r\n      {showAddRecipeModal && (\r\n        <AddRecipeModal\r\n          onClose={() => setShowAddRecipeModal(false)}\r\n          onSubmit={handleAddRecipe}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipesPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}